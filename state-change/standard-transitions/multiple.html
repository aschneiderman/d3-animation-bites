<!DOCTYPE html>
<head>
  <meta charset="utf-8">
	<script src="http://d3js.org/d3.v4.0.0-alpha.43.min.js"></script>
</head>
<body>
<h1>Multiple Items: State Change Using A Standard Transition</h1>

<svg width="900" height="600"></svg>        <!-- SVG graphics will go here  -->

<script type="text/javascript">

var numStates = 3;
var members = [
    { id: 1, 	state: [1, 3, 1, 2, 3] },
    { id: 2, 	state: [1, 2, 2, 1, 1] },
		{ id: 7, 	state: [2, 3, 1, 2, 3] },
		{ id: 12, 	state: [2, 2, 2, 1, 3] },
    { id: 27, 	state: [3, 3, 1, 2, 1] },
    { id: 42, 	state: [3, 2, 2, 1, 1] },
		{ id: 57, 	state: [2, 3, 1, 2, 3] },
		{ id: 96,		state: [2, 1, 1, 2, 1]}
];

var	Time = 0;

d3.select("svg").selectAll("rect")
  .data(members)
  .enter().append("rect")
    .attr("x",0)
    .attr("y",function(d,i) {return 100 + d.state[0]*  100 + i*10}  )
    .attr("width",10)
    .attr("height",10)
    .style("fill", "Crimson")
    .transition()
      .ease(d3.easeLinear)
      .duration(600)
      .delay(0)
      .attr("x", 60 + (1 * 80))
      .attr("y", function(d,i) { return 80 + ( 400 - ((d.state[1] % 3) *200) ) + i*20} )
      .transition()
        .ease(d3.easeLinear)
        .duration(600)
        .delay(0)
        .attr("x", 60 + (2 * 80))
        .attr("y", function(d,i) { return 80 + ( 400 - ((d.state[2] % 3) *200) ) + i*20} )
    ;

    // OKAY, now we need to figure out how to
    // -  call a transition in a function
    // - each time we call the function, know which state we are in

</script>

<!-- NOTE: getting info about how to handle chain transitions from:
http://bl.ocks.org/mbostock/346f4d967650b27c0511 -->
</body>
</html>
