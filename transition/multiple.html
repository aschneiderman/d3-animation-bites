<!DOCTYPE html>
<head>
  <meta charset="utf-8">
	<script src="http://d3js.org/d3.v4.0.0-alpha.43.min.js"></script>
</head>
<body>
<h1>Multiple Items: State Change Using A Standard Transition</h1>

<svg width="900" height="800"></svg>        <!-- SVG graphics will go here  -->

<script type="text/javascript">

var numStates = 3;
var members = [
  { id: 1, 	state: [1, 3, 1, 2, 3] },
  { id: 2, 	state: [1, 2, 2, 1, 1] },
  { id: 7, 	state: [2, 3, 1, 2, 3] },
  { id: 12, 	state: [2, 2, 2, 1, 3] },
  { id: 27, 	state: [3, 3, 1, 2, 1] },
  { id: 42, 	state: [3, 2, 2, 1, 1] },
  { id: 57, 	state: [2, 3, 1, 2, 3] },
  { id: 96,		state: [2, 1, 1, 2, 1]},

  { id: 101, 	state: [1, 3, 1, 2, 3] },
  { id: 102, 	state: [1, 2, 2, 1, 1] },
  { id: 107, 	state: [2, 3, 1, 2, 3] },
  { id: 112, 	state: [2, 2, 2, 1, 3] },
  { id: 127, 	state: [3, 3, 1, 2, 1] },
  { id: 142, 	state: [3, 2, 2, 1, 1] },
  { id: 157, 	state: [2, 3, 1, 2, 3] },
  { id: 196,		state: [2, 1, 1, 2, 1]},

    { id: 201, 	state: [1, 3, 1, 2, 3] },
    { id: 202, 	state: [1, 2, 2, 1, 1] },
		{ id: 207, 	state: [2, 3, 1, 2, 3] },
		{ id: 212, 	state: [2, 2, 2, 1, 3] },
    { id: 227, 	state: [3, 3, 1, 2, 1] },
    { id: 242, 	state: [3, 2, 2, 1, 1] },
		{ id: 257, 	state: [2, 3, 1, 2, 3] },
		{ id: 296,		state: [2, 1, 1, 2, 1]},
];

var	Time = 0, Distance = 200;

d3.select("svg").selectAll("rect")
  .data(members)
  .enter().append("rect")
    .attr("x",0)
    .attr("y",function(d,i) { return 80 + ( 500 - ((d.state[0] % 3) * 250) ) + i*25}  )
    .attr("width",10)
    .attr("height",10)
    .style("fill", "Crimson")
    .transition()
      .ease(d3.easeLinear)
      .duration(600)
      .delay(0)
      .attr("x", 60 + (1 * Distance))
      .attr("y", function(d,i) { return 80 + ( 500 - ((d.state[1] % 3) * 250) ) + i*25} )
      .transition()
        .ease(d3.easeLinear)
        .duration(600)
        .delay(0)
        .attr("x", 60 + (2 * Distance))
        .attr("y", function(d,i) { return 80 + ( 500 - ((d.state[2] % 3) * 250) ) + i*25} )
        .transition()
          .ease(d3.easeLinear)
          .duration(600)
          .delay(0)
          .attr("x", 60 + (3 * Distance))
          .attr("y", function(d,i) { return 80 + ( 500 - ((d.state[3] % 3) * 250) ) + i*25} ) ;

</script>

</body>
</html>
